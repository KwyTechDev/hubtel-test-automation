/// <reference types="node" />
import * as Mocha from "mocha";
import type { AttachmentOptions, ContentType } from "allure-js-commons";
import type { Category, RuntimeMessage } from "allure-js-commons/sdk";
export declare class AllureMochaReporter extends Mocha.reporters.Base {
    private readonly runtime;
    private readonly testplan?;
    private scopesStack;
    private currentTest?;
    private currentHook?;
    private readonly isInWorker;
    constructor(runner: Mocha.Runner, opts: Mocha.MochaOptions, isInWorker?: boolean);
    applyRuntimeMessages: (...message: RuntimeMessage[]) => void;
    /**
     * @deprecated for removal. Use reporter config option instead.
     */
    writeCategoriesDefinitions: (categories: Category[]) => void;
    /**
     * @deprecated for removal. Use reporter config option instead.
     */
    writeEnvironmentInfo: (environmentInfo: Record<string, string>) => void;
    /**
     * @deprecated for removal. Use reporter config option instead.
     */
    testAttachment: (name: string, content: Buffer | string, options: ContentType | string | AttachmentOptions) => void;
    done(failures: number, fn?: ((failures: number) => void) | undefined): void;
    private applyListeners;
    private onSuite;
    private onSuiteEnd;
    private onTest;
    private onPassed;
    private onFailed;
    private onPending;
    private onTestEnd;
    private onHookStart;
    private onHookEnd;
    private writeTestScopes;
    private getCurrentSuiteScope;
}
